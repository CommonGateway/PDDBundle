{
  "title": "OpenWooToWoo",
  "$id": "https://commongateway.nl/mapping/woo.openWooToWoo.mapping.json",
  "$schema": "https://docs.commongateway.nl/schemas/Mapping.schema.json",
  "version": "0.0.6",
  "passTrough": false,
  "mapping": {
    "_sourceId": "UUID",
    "id": "Object_ID",
    "portalUrl": "Portal_url",
    "organisatie.oin": "{% if organisatie.oin|default %}{{ organisatie.oin }}{% else %}unknown{% endif %}",
    "organisatie.naam": "organisatie.naam",
    "categorie": "categorie",
    "titel": "{% if Titel|default %}{{ Titel }}{% endif %}",
    "samenvatting": "{% if Samenvatting|default %}{{ Samenvatting }}{% endif %}",
    "metadata.verzoek.ontvangstdatum": "{% if Ontvangstdatum|default %}{{ Ontvangstdatum|date('c') }}{% endif %}",
    "publicatiedatum": "{% if Publicatie_datum|default %}{{ Publicatie_datum|date('c') }}{% endif %}",
    "metadata.besluitdatum": "{% if Besluitdatum|default %}{{ Besluitdatum|date('c') }}{% endif %}",
    "metadata.verzoek.termijnoverschrijding": "{% if Termijnoverschrijding|default %}{{ Termijnoverschrijding }}{% endif %}",
    "metadata.verzoek.informatieverzoek.url": "{% if URL_informatieverzoek|default %}{{ URL_informatieverzoek }}{% endif %}",
    "metadata.verzoek.inventarisatielijst.url": "{% if URL_inventarisatielijst|default %}{{ URL_inventarisatielijst }}{% endif %}",
    "metadata.verzoek.besluit.url": "{% if URL_besluit|default %}{{ URL_besluit }}{% endif %}",
    "bijlagen": "[{% set index=0 %}{% if Bijlagen|default %}{% for bijlage in Bijlagen %}{% if index != 0 %},{% endif %}{% set bijlageMerged = bijlage|merge({'oin': organisatie.oin}) %}{{ map('https://commongateway.nl/mapping/woo.openWooBijlageToWooBijlage.mapping.json', bijlageMerged)|json_encode }}{% set index=index+1 %}{% endfor %}{% endif %}]",
    "themas.0.hoofdthema": "{% if Themas|default %}{% for thema in Themas %}{% if thema.Hoofdthema|default %}{{ thema.Hoofdthema~', ' }}{% endif %}{% endfor %}{% endif %}"
  },
  "cast": {
    "id": "string",
    "themas.0.hoofdthema": "unsetIfValue==",
    "themas.0": "unsetIfValue==",
    "bijlagen": "jsonToArray",
    "portalUrl": "unsetIfValue==",
    "titel": "unsetIfValue==",
    "beschrijving": "unsetIfValue==",
    "samenvatting": "unsetIfValue==",
    "metadata.verzoek.ontvangstdatum": "unsetIfValue==",
    "metadata.verzoek.termijnoverschrijding": "unsetIfValue==",
    "metadata.verzoek.inventarisatielijst": "unsetIfValue==",
    "metadata.verzoek.informatieverzoek": "unsetIfValue==",
    "metadata.verzoek.besluit": "unsetIfValue==",
    "metadata.verzoek": "unsetIfValue==",
    "metadata.besluitdatum": "unsetIfValue==",
    "categorie": "unsetIfValue==",
    "publicatiedatum": "unsetIfValue=="
  }
}
