{
  "title": "OpenWooToWoo",
  "$id": "https://commongateway.nl/mapping/woo.openWooToWoo.schema.json",
  "$schema": "https://docs.commongateway.nl/schemas/Mapping.schema.json",
  "version": "0.0.1",
  "passTrough": false,
  "mapping": {
    "_sourceId": "UUID",
    "id": "Object_ID",
    "behandelendBestuursorgaan.oidn": "{% if behandelendBestuursorgaan.oidn|default %}{{ behandelendBestuursorgaan.oidn }}{% else %}unknown{% endif %}",
    "behandelendBestuursorgaan.naam": "behandelendBestuursorgaan.naam",
    "portalUrl": "Portal_url",
    "titel": "Titel",
    "samenvatting": "Samenvatting",
    "ontvangstdatum": "Ontvangstdatum",
    "metadata.besluitdatum": "Besluitdatum",
    "behandelstatus": "Behandelstatus",
    "termijnoverschrijding": "Termijnoverschrijding",
    "urlInformatieverzoek": "URL_informatieverzoek",
    "urlInventarisatielijst": "URL_inventarisatielijst",
    "urlBesluit": "URL_besluit",
    "informatieverzoek": "Ontvanger_informatieverzoek",
    "inventarisatielijst": "{% if values['attribute&#46;woo_inventarisatielijst'][0]|default %}{{ map('https://commongateway.nl/mapping/pdd.xxllncDocumentSetSourceId.schema.json', values['attribute&#46;woo_inventarisatielijst'][0])|json_encode }}{% endif %}",
    "besluit": "Besluit",
    "bijlagen": "[{% set index=0 %}{% if values['Bijlagen']|default %}{% for bijlage in Bijlagen %}{% if index != 0 %},{% endif %}{{ map('https://commongateway.nl/mapping/woo.openWooBijlageToWooBijlage.schema.json', document)|json_encode }}{% set index=index+1 %}{% endfor %}{% endif %}]",
    "themas.0.hoofdthema": "{% if Themas|default %}{% foreach Themas as thema %}{% if thema.Hoofdthema|default %}{{ thema.Hoofdthema~', ' }}{% endif %}{% endfor %}{% endif %}"
  },
  "cast": {
    "themas.0.hoofdthema": "unsetIfValue==",
    "themas.0": "unsetIfValue==",
    "informatieverzoek": "jsonToArray",
    "inventarisatielijst": "jsonToArray",
    "besluit": "jsonToArray",
    "bijlagen": "jsonToArray",
    "portalUrl": "unsetIfValue==",
    "titel": "unsetIfValue==",
    "beschrijving": "unsetIfValue==",
    "samenvatting": "unsetIfValue==",
    "ontvangstdatum": "unsetIfValue==",
    "metadata.besluitdatum": "unsetIfValue==",
    "categorie": "unsetIfValue==values.attribute&#46;woo_categorie",
    "publicatiedatum": "unsetIfValue==",
    "urlInformatieverzoek": "unsetIfValue==",
    "urlInventarisatielijst": "unsetIfValue==",
    "urlBesluit": "unsetIfValue=="
  }
}
